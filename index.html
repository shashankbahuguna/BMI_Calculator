<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Metrics Calculator | BMI, BMR & TDEE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    
    <!-- Theme Toggle Button -->
    <button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Hero Header Section -->
    <header class="hero-section">
        <div class="container">
            <div class="hero-content text-center">
                <div class="hero-icon mb-3">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <h1 class="hero-title">Health Metrics Calculator</h1>
                <p class="hero-subtitle">Calculate your BMI, BMR, and TDEE in seconds</p>
                <div class="hero-badges">
                    <span class="badge-pill"><i class="fas fa-shield-alt me-1"></i> Privacy First</span>
                    <span class="badge-pill"><i class="fas fa-bolt me-1"></i> Instant Results</span>
                    <span class="badge-pill"><i class="fas fa-chart-line me-1"></i> Science-Based</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Calculator Section -->
    <div class="container main-container">
        <div class="calculator-wrapper">
            
            <!-- Calculator Card -->
            <div class="calculator-card">
                <div class="card-gradient-header">
                    <h2 class="mb-0"><i class="fas fa-calculator me-2"></i>Calculate Your Metrics</h2>
                </div>
                
                <div class="card-body-custom">
                    <form id="calculator-form">
                        
                        <!-- Unit System Toggle -->
                        <div class="unit-toggle-wrapper mb-4">
                            <label class="form-label-custom">Measurement System</label>
                            <div class="toggle-group">
                                <input type="radio" class="btn-check" name="unit-system" id="metric" value="metric" checked>
                                <label class="btn btn-toggle" for="metric">
                                    <i class="fas fa-weight me-2"></i>Metric (kg, m)
                                </label>
                                
                                <input type="radio" class="btn-check" name="unit-system" id="imperial" value="imperial">
                                <label class="btn btn-toggle" for="imperial">
                                    <i class="fas fa-ruler me-2"></i>Imperial (lb, in)
                                </label>
                            </div>
                        </div>

                        <!-- Basic Measurements -->
                        <div class="measurements-grid">
                            <div class="input-group-custom">
                                <label for="weight" class="form-label-custom">
                                    <i class="fas fa-weight-hanging icon-accent"></i>
                                    Weight
                                </label>
                                <div class="input-wrapper">
                                    <input type="number" id="weight" class="form-control-custom" step="0.1" min="1" placeholder="70" required>
                                    <span class="input-unit" id="weight-unit">kg</span>
                                </div>
                            </div>
                            
                            <div class="input-group-custom">
                                <label for="height" class="form-label-custom">
                                    <i class="fas fa-ruler-vertical icon-accent"></i>
                                    Height
                                </label>
                                <div class="input-wrapper">
                                    <input type="number" id="height" class="form-control-custom" step="0.01" min="0.1" placeholder="1.75" required>
                                    <span class="input-unit" id="height-unit">m</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Advanced Metrics Section -->
                        <div class="advanced-section">
                            <div class="section-header">
                                <h5 class="section-title">
                                    <i class="fas fa-sliders-h me-2"></i>
                                    Advanced Metrics
                                </h5>
                                <span class="section-subtitle">For BMR & TDEE calculation</span>
                            </div>
                            
                            <div class="advanced-grid">
                                <div class="input-group-custom">
                                    <label for="age" class="form-label-custom">
                                        <i class="fas fa-birthday-cake icon-accent"></i>
                                        Age
                                    </label>
                                    <input type="number" id="age" class="form-control-custom" min="1" max="120" value="25" required>
                                </div>
                                
                                <div class="input-group-custom">
                                    <label for="gender" class="form-label-custom">
                                        <i class="fas fa-venus-mars icon-accent"></i>
                                        Gender
                                    </label>
                                    <select id="gender" class="form-control-custom">
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                    </select>
                                </div>
                                
                                <div class="input-group-custom full-width">
                                    <label for="activity-level" class="form-label-custom">
                                        <i class="fas fa-running icon-accent"></i>
                                        Activity Level
                                    </label>
                                    <select id="activity-level" class="form-control-custom">
                                        <option value="sedentary">Sedentary - Little or no exercise</option>
                                        <option value="light">Lightly Active - Exercise 1-3 days/week</option>
                                        <option value="moderate" selected>Moderately Active - Exercise 3-5 days/week</option>
                                        <option value="very_active">Very Active - Exercise 6-7 days/week</option>
                                        <option value="extra_active">Extra Active - Intense exercise 2x/day</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Calculate Button -->
                        <button type="submit" class="btn-calculate">
                            <span class="btn-text">Calculate Health Metrics</span>
                            <i class="fas fa-arrow-right ms-2"></i>
                        </button>
                    </form>

                    <!-- Error Message -->
                    <div class="alert-custom alert-danger d-none" id="error-message" role="alert">
                        <i class="fas fa-exclamation-circle me-2"></i>
                        <span id="error-text"></span>
                    </div>

                    <!-- Results Section -->
                    <div id="result-area" class="results-section d-none">
                        <div class="results-header">
                            <i class="fas fa-check-circle success-icon"></i>
                            <h3>Your Health Metrics</h3>
                        </div>
                        
                        <div class="metrics-grid">
                            <!-- BMI Card -->
                            <div class="metric-card bmi-card">
                                <div class="metric-icon">
                                    <i class="fas fa-weight"></i>
                                </div>
                                <div class="metric-content">
                                    <span class="metric-label">Body Mass Index</span>
                                    <div class="metric-value" id="bmi-value">--</div>
                                    <span class="metric-badge" id="bmi-category">--</span>
                                </div>
                            </div>
                            
                            <!-- BMR Card -->
                            <div class="metric-card bmr-card">
                                <div class="metric-icon">
                                    <i class="fas fa-fire"></i>
                                </div>
                                <div class="metric-content">
                                    <span class="metric-label">Basal Metabolic Rate</span>
                                    <div class="metric-value" id="bmr-value">--</div>
                                    <span class="metric-unit">calories/day at rest</span>
                                </div>
                            </div>
                            
                            <!-- TDEE Card -->
                            <div class="metric-card tdee-card">
                                <div class="metric-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="metric-content">
                                    <span class="metric-label">Total Daily Energy</span>
                                    <div class="metric-value" id="tdee-value">--</div>
                                    <span class="metric-unit">calories/day with activity</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Weight Recommendation -->
                        <div class="recommendation-box">
                            <i class="fas fa-lightbulb me-2"></i>
                            <span id="weight-recommendation"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Info Cards Section -->
            <div class="info-cards-section">
                <div class="info-card">
                    <div class="info-icon bmi-info">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <h4>BMI Categories</h4>
                    <ul class="category-list">
                        <li><span class="category-dot underweight"></span>Under 18.5 - Underweight</li>
                        <li><span class="category-dot normal"></span>18.5 - 24.9 - Normal Weight</li>
                        <li><span class="category-dot overweight"></span>25.0 - 29.9 - Overweight</li>
                        <li><span class="category-dot obese"></span>30.0+ - Obesity</li>
                    </ul>
                </div>
                
                <div class="info-card">
                    <div class="info-icon bmr-info">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <h4>What is BMR?</h4>
                    <p>Basal Metabolic Rate (BMR) is the number of calories your body needs to perform basic life-sustaining functions at rest, such as breathing and circulation.</p>
                </div>
                
                <div class="info-card">
                    <div class="info-icon tdee-info">
                        <i class="fas fa-running"></i>
                    </div>
                    <h4>Understanding TDEE</h4>
                    <p>Total Daily Energy Expenditure (TDEE) is your BMR multiplied by your activity level. It represents the total calories you burn each day.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-section">
        <div class="container text-center">
            <p class="mb-2"><i class="fas fa-shield-alt me-2"></i>Your data is processed locally and never stored</p>
            <p class="footer-note">This calculator provides estimates. Consult healthcare professionals for personalized advice.</p>
        </div>
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
