<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Professional BMI Calculator - Calculate your Body Mass Index with HealthTrack Pro">
  <meta name="keywords" content="BMI calculator, health tracker, body mass index, fitness">
  <meta name="author" content="HealthTrack Pro">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ url_for('https://static.vecteezy.com/system/resources/previews/016/828/833/original/bmi-classification-chart-measurement-woman-colorful-infographic-with-ruler-female-body-mass-index-scale-collection-from-underweight-to-overweight-fit-person-different-weight-level-eps-vector.jpg') }}">
  
  <!-- Preconnect for Performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
  
  <title>HealthTrack Pro | Professional BMI Calculator</title>
</head>

<body>
  <!-- Animated Background Layer -->
  <div class="background-wrapper" aria-hidden="true">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
    <div class="mesh-gradient"></div>
  </div>

  <!-- Main Application Container -->
  <div class="main-container">
    
    <!-- Application Header -->
    <header class="app-header">
      <div class="logo-container">
        <!-- Logo Image (Option 1: Use Image instead of icon) -->
        <div class="logo-icon" aria-hidden="true">
          <img src="{{ url_for('static', filename='images/logo.png') }}" alt="HealthTrack Pro Logo" class="logo-image">
          <!-- Fallback to icon if no image -->
          <i class="fas fa-heartbeat"></i>
        </div>
        <div class="logo-text">
          <h1>HealthTrack<span class="pro-badge">Pro</span></h1>
          <p class="tagline">Your Personal Health Intelligence</p>
        </div>
      </div>
      <nav class="header-actions" aria-label="Header Actions">
        <button class="icon-button" aria-label="Notifications">
          <i class="fas fa-bell"></i>
          <span class="notification-dot" aria-hidden="true"></span>
        </button>
        <button class="icon-button" aria-label="Settings">
          <i class="fas fa-cog"></i>
        </button>
      </nav>
    </header>

    <!-- Main Content Grid -->
    <main class="content-grid">
      
      <!-- BMI Calculator Section -->
      <section class="glass-card calculator-card" aria-labelledby="calculator-heading">
        <div class="card-header">
          <div class="card-title">
            <i class="fas fa-calculator-alt" aria-hidden="true"></i>
            <h2 id="calculator-heading">BMI Calculator</h2>
          </div>
          <span class="badge">Quick Analysis</span>
        </div>

        <!-- BMI Calculation Form -->
        <form method="POST" action="{{ url_for('index') }}" class="bmi-form" id="bmiForm" novalidate>
          
          <!-- Height Input Group -->
          <div class="form-group">
            <label for="height" class="form-label">
              <i class="fas fa-arrows-alt-v" aria-hidden="true"></i>
              <span>Height</span>
            </label>
            <div class="input-wrapper">
              <input 
                type="number" 
                id="height" 
                name="height" 
                class="form-input"
                placeholder="175" 
                step="0.1" 
                min="50"
                max="300"
                required
                autocomplete="off"
                aria-describedby="height-help"
              >
              <span class="input-unit" aria-hidden="true">cm</span>
            </div>
            <small id="height-help" class="sr-only">Enter your height in centimeters between 50 and 300</small>
          </div>

          <!-- Weight Input Group -->
          <div class="form-group">
            <label for="weight" class="form-label">
              <i class="fas fa-weight-hanging" aria-hidden="true"></i>
              <span>Weight</span>
            </label>
            <div class="input-wrapper">
              <input 
                type="number" 
                id="weight" 
                name="weight" 
                class="form-input"
                placeholder="70" 
                step="0.1" 
                min="20"
                max="500"
                required
                autocomplete="off"
                aria-describedby="weight-help"
              >
              <span class="input-unit" aria-hidden="true">kg</span>
            </div>
            <small id="weight-help" class="sr-only">Enter your weight in kilograms between 20 and 500</small>
          </div>

          <!-- Gender Selection Group -->
          <div class="form-group">
            <label class="form-label">
              <i class="fas fa-venus-mars" aria-hidden="true"></i>
              <span>Gender</span>
            </label>
            <div class="gender-toggle" role="radiogroup" aria-label="Select gender">
              <input type="radio" name="gender" value="male" id="male" checked>
              <label for="male" class="gender-option">
                <i class="fas fa-mars" aria-hidden="true"></i>
                <span>Male</span>
              </label>
              
              <input type="radio" name="gender" value="female" id="female">
              <label for="female" class="gender-option">
                <i class="fas fa-venus" aria-hidden="true"></i>
                <span>Female</span>
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="submit-btn">
            <span class="btn-text">Calculate BMI</span>
            <i class="fas fa-arrow-right" aria-hidden="true"></i>
            <div class="btn-shimmer" aria-hidden="true"></div>
          </button>
        </form>

        <!-- Results Display -->
        {% if bmi %}
        <div class="results-container animate-in" role="region" aria-live="polite" aria-labelledby="results-heading">
          <div class="results-header">
            <h3 id="results-heading">Your Results</h3>
            <button class="reset-btn" onclick="window.location.reload()" aria-label="Reset calculator">
              <i class="fas fa-redo" aria-hidden="true"></i>
            </button>
          </div>

          <!-- BMI Score Display -->
          <div class="bmi-score">
            <div class="score-circle">
              <svg class="progress-ring" viewBox="0 0 120 120" role="img" aria-label="BMI Progress Circle">
                <circle class="progress-ring-bg" cx="60" cy="60" r="54"></circle>
                <circle 
                  class="progress-ring-fill {{ bmi_category.lower().replace(' ', '-') }}" 
                  cx="60" 
                  cy="60" 
                  r="54"
                  style="--progress: {{ (min(max(bmi,10),40)-10)/30*100 }}%"
                ></circle>
              </svg>
              <div class="score-value">
                <span class="bmi-number">{{ "%.1f"|format(bmi) }}</span>
                <span class="bmi-label">BMI</span>
              </div>
            </div>
            
            <div class="score-details">
              <div class="category-badge {{ bmi_category.lower().replace(' ', '-') }}" role="status">
                {{ bmi_category }}
              </div>
              <p class="category-description">{{ bmi_message }}</p>
            </div>
          </div>

          <!-- BMI Range Indicator -->
          <div class="range-indicator" role="img" aria-label="BMI Range Scale">
            <div class="range-track">
              <div class="range-segment underweight" aria-label="Underweight range"></div>
              <div class="range-segment normal" aria-label="Normal weight range"></div>
              <div class="range-segment overweight" aria-label="Overweight range"></div>
              <div class="range-segment obese" aria-label="Obese range"></div>
              <div 
                class="range-marker" 
                style="left:(min(max(bmi,15),40)-15)/25*100%"
                aria-hidden="true"
              >
                <div class="marker-dot"></div>
              </div>
            </div>
            <div class="range-labels">
              <span>15</span>
              <span>18.5</span>
              <span>25</span>
              <span>30</span>
              <span>40</span>
            </div>
          </div>
        </div>
        {% endif %}

        <!-- Error Display -->
        {% if error %}
        <div class="error-alert animate-in" role="alert" aria-live="assertive">
          <i class="fas fa-exclamation-circle" aria-hidden="true"></i>
          <p>{{ error }}</p>
        </div>
        {% endif %}
      </section>

      <!-- Information Sidebar -->
      <aside class="info-section" aria-label="BMI Information">
        
        <!-- BMI Categories Information Card -->
        <article class="glass-card info-card" aria-labelledby="categories-heading">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-chart-pie" aria-hidden="true"></i>
              <h3 id="categories-heading">BMI Categories</h3>
            </div>
          </div>
          
          <div class="categories-list">
            <div class="category-item">
              <div class="category-indicator underweight" aria-hidden="true"></div>
              <div class="category-info">
                <h4>Underweight</h4>
                <p>BMI &lt; 18.5</p>
              </div>
              <i class="fas fa-info-circle info-icon" aria-hidden="true"></i>
            </div>
            
            <div class="category-item">
              <div class="category-indicator normal" aria-hidden="true"></div>
              <div class="category-info">
                <h4>Normal Weight</h4>
                <p>BMI 18.5 - 24.9</p>
              </div>
              <i class="fas fa-check-circle info-icon" aria-hidden="true"></i>
            </div>
            
            <div class="category-item">
              <div class="category-indicator overweight" aria-hidden="true"></div>
              <div class="category-info">
                <h4>Overweight</h4>
                <p>BMI 25 - 29.9</p>
              </div>
              <i class="fas fa-exclamation-circle info-icon" aria-hidden="true"></i>
            </div>
            
            <div class="category-item">
              <div class="category-indicator obese" aria-hidden="true"></div>
              <div class="category-info">
                <h4>Obese</h4>
                <p>BMI ≥ 30</p>
              </div>
              <i class="fas fa-exclamation-triangle info-icon" aria-hidden="true"></i>
            </div>
          </div>

          <!-- BMI Chart Image -->
          <div class="bmi-chart-container">
            <img 
              src="{{ url_for('static', filename='images/bmi-chart.png') }}" 
              alt="BMI Chart showing different weight categories" 
              class="bmi-chart-image"
              loading="lazy"
            >
          </div>
        </article>

        <!-- Health Tips Card -->
        <article class="glass-card tips-card" aria-labelledby="tips-heading">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-lightbulb" aria-hidden="true"></i>
              <h3 id="tips-heading">Health Tips</h3>
            </div>
          </div>
          
          <ul class="tips-list">
            <li class="tip-item">
              <div class="tip-icon" aria-hidden="true">
                <img src="{{ url_for('static', filename='images/icons/nutrition.png') }}" alt="" class="tip-icon-img">
                <i class="fas fa-apple-alt"></i>
              </div>
              <p>Maintain a balanced diet rich in fruits and vegetables</p>
            </li>
            
            <li class="tip-item">
              <div class="tip-icon" aria-hidden="true">
                <img src="{{ url_for('static', filename='images/icons/exercise.png') }}" alt="" class="tip-icon-img">
                <i class="fas fa-running"></i>
              </div>
              <p>Exercise regularly for at least 30 minutes daily</p>
            </li>
            
            <li class="tip-item">
              <div class="tip-icon" aria-hidden="true">
                <img src="{{ url_for('static', filename='images/icons/sleep.png') }}" alt="" class="tip-icon-img">
                <i class="fas fa-bed"></i>
              </div>
              <p>Get 7-9 hours of quality sleep each night</p>
            </li>
            
            <li class="tip-item">
              <div class="tip-icon" aria-hidden="true">
                <img src="{{ url_for('static', filename='images/icons/hydration.png') }}" alt="" class="tip-icon-img">
                <i class="fas fa-tint"></i>
              </div>
              <p>Stay hydrated with 8 glasses of water daily</p>
            </li>
          </ul>
        </article>

        <!-- Statistics Card -->
        <article class="glass-card stats-card" aria-labelledby="stats-heading">
          <div class="card-header">
            <div class="card-title">
              <i class="fas fa-chart-line" aria-hidden="true"></i>
              <h3 id="stats-heading">Quick Stats</h3>
            </div>
          </div>
          
          <div class="stats-grid">
            <div class="stat-box">
              <i class="fas fa-users" aria-hidden="true"></i>
              <div>
                <p class="stat-value">50K+</p>
                <p class="stat-label">Active Users</p>
              </div>
            </div>
            
            <div class="stat-box">
              <i class="fas fa-heart" aria-hidden="true"></i>
              <div>
                <p class="stat-value">98%</p>
                <p class="stat-label">Satisfaction</p>
              </div>
            </div>
          </div>

          <!-- Success Stories Image Banner -->
          <div class="success-banner">
            <img 
              src="{{ url_for('static', filename='images/success-stories.jpg') }}" 
              alt="Success stories from HealthTrack Pro users" 
              class="success-image"
              loading="lazy"
            >
          </div>
        </article>
      </aside>
    </main>

    <!-- Footer Section -->
    <footer class="app-footer">
      <p>&copy; 2025 HealthTrack Pro. All rights reserved.</p>
      <nav class="footer-links" aria-label="Footer Navigation">
        <a href="#privacy">Privacy</a>
        <span aria-hidden="true">•</span>
        <a href="#terms">Terms</a>
        <span aria-hidden="true">•</span>
        <a href="#support">Support</a>
      </nav>
      
      <!-- Footer Logo -->
      <div class="footer-logo">
        <img 
          src="{{ url_for('static', filename='images/logo-white.png') }}" 
          alt="HealthTrack Pro" 
          class="footer-logo-img"
        >
      </div>
    </footer>
  </div>

  <!-- JavaScript -->
  <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</body>
</html>
